{% extends 'base.html' %}
{% load static %}

{% block 'cabecalho' %}
  <!-- JsPdf -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>
  
{% endblock %}
{% block 'conteudo' %}

<div class="row">
    <div class="ml-0 col-sm-12 col-12">
      <div class="col-sm-12">
        <ul class="nav nav-pills nav-pills-primary " id="pills-tab" role="tablist">
          <li class="nav-item pl-0 " role="presentation">
            <button class="nav-link active p-1" id="pills-manifesto-tab" 
                    data-bs-toggle="pill" data-bs-target="#pills-manifesto" type="button" 
                    role="tab" aria-controls="pills-manifesto" aria-selected="true">
                    <i class="fa fa-id-card mr-2" aria-hidden="true"></i>Dados Manifesto
            </button>
          </li>
          <li class="nav-item pl-0" role="presentation">
            <button class="nav-link  p-1" id="pills-dtc-tab"  data-bs-toggle="pill" 
                    data-bs-target="#pills-dtc" type="button" role="tab" 
                    aria-controls="pills-dtc" aria-selected="true">
              <i class="ti-truck mr-2"></i> DTC
            </button>
          </li>
          <li class="nav-item pl-0 " role="presentation">
            <button class="nav-link  p-1" id="pills-mdfe-tab" data-bs-toggle="pill" 
                    data-bs-target="#pills-mdfe" type="button" role="tab" 
                    aria-controls="pills-mdfe" aria-selected="true">

                    <i class="fa fa-paper-plane mr-2" aria-hidden="true"></i> MDF-E
            </button>
          </li> 

          <li class="nav-item pl-0" role="presentation">
            <button class="nav-link  p-1" id="pills-pagamentos-tab" data-bs-toggle="pill" 
            data-bs-target="#pills-pagamentos" type="button" role="tab" aria-controls="pills-pagamentos" 
            aria-selected="false">
            <i class="fa fa-credit-card mr-2" aria-hidden="true"></i>Contrato
            </button>
          </li>
          <li class="nav-item pl-0" role="presentation">
            <button class="nav-link  p-1" id="pills-rastreamento-tab" data-bs-toggle="pill" data-bs-target="#pills-rastreamento" 
            type="button" role="tab" aria-controls="pills-rastreamento" 
            aria-selected="false">
            <i class="fa fa-map mr-2" aria-hidden="true"></i>Rastreamento
          </button>
          </li>          
          <!-- <li class="nav-item pl-0" role="presentation">
            <button class="nav-link  p-1" id="pills-outros-tab" data-bs-toggle="pill" 
            data-bs-target="#pills-outros" type="button" role="tab" 
            aria-controls="pills-outros" aria-selected="false">Outros</button>
          </li> -->
       
          <li class="mt-3">
            <div class="input-group mb-2" align="right">
              <button type="button" class="btn btn-secondary btn-rounded btn-icon" id="btnLimpaManifesto" align="right">            
                <i class="ti-write"></i>
              </button>
              <button type="button" class="btn btn-success btn-rounded btn-icon" id="btnSalvaManifesto" align="right">            
                <i class="ti-save"></i>
              </button>
              <button type="button" class="btn btn-danger btn-rounded btn-icon pr-2" id="btnDeleteManifesto" lign="right" style="margin-right: 5px;">
                <i class="ti-close"></i>
              </button>
            </div>
          </li> 

          <!-- <li>
            <button class="form-control btn btn-success p-1 btn-lg mt-3" id="enviarSefaz" style="border-radius: 30px;">
              <i class="fas fa-spinner spinner"></i><span class="ml-2">Em carregamento</span>
            </button>
          </li> -->
          
          <li>
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Nº Manifesto" id="txtIdBuscaManifesto" style="height: 42px !important; width: 80px !important; margin-top: 18px !important; margin-left: 10px !important;">            
              <button type="button" class="btn btn-primary btn-rounded btn-icon" id="btnBuscarManifestoId" style="margin-top: 18px !important;">            
                <i class="fa fa-search" aria-hidden="true"></i>
              </button>
            </div>
          </li>
      </ul>

      </div>
      <div class="col-sm-12 mb-3">
        <table class="table table-striped table-sm">
          <thead>
            <tr class="thead-padrao">
              <th scope="col" class="border-end"><span>Data Saída : </span> <span id="dtSaida"></span></th>
              <th scope="col" class="border-end"><span>Prev. Chegada : </span> <span id="prevChegada"></span></th>
              <th scope="col" class="border-end"><span>Rota : </span> <span id="origemDestino"></span></th>
              <th scope="col" class="border-end"><span>Motorista : </span> <span id="motoristaPrincipal"></span></th>
              <th scope="col" class="border-end"><span>Placa : </span> <span id="spanPlacaPrincipal"></span></th>
              <th scope="col" class="border-end"><span>Número de Documentos : </span> <span id="spanQtdeDocumentos"></span></th>
              <th scope="col" class="border-end"><span>Manifesto Nº : </span> <span id="spanNumManifesto"></span></th>
            </tr>
          </thead>
        </table>
      </div>
    </div>
  <div class="tab-content bloco-conteudo" id="pills-tabContent" style="border:none !important;">
      <div class="tab-pane fade show active" id="pills-manifesto" role="tabpanel"
          aria-labelledby="pills-manifesto-tab">
          {% include 'dadosManifesto.html' %}
      </div>

      <div class="tab-pane fade" id="pills-dtc" 
          role="tabpanel" aria-labelledby="pills-dtc-tab">
          {% include 'dtcManifesto.html' %}
      </div>

      <div class="tab-pane fade" id="pills-mdfe" 
          role="tabpanel" aria-labelledby="pills-mdfe-tab">
          {% include 'mdfe.html' %}
      </div>

      <div class="tab-pane fade" id="pills-pagamentos" 
          role="tabpanel" aria-labelledby="pills-pagamentos-tab">
          {% include 'pagamentoMotorista.html' %}
      </div>

      <div class="tab-pane fade" id="pills-rastreamento" 
          role="tabpanel" aria-labelledby="pills-rastreamento-tab">
          {% include 'rastreamentoManifesto.html' %}
      </div>
  </div>

  <style>
    
    .spinner {
      animation: spin 2s linear infinite; /* Aplica a animação spin */
    }

    @keyframes spin {
      0% { transform: rotate(0deg); } /* Define a rotação inicial */
      100% { transform: rotate(360deg); } /* Define a rotação final */
    }
  </style>
{% endblock %}

{% block 'js'%} 
  <script src="{% static 'js/meusJS/components/dtc/utils.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnRemoveMotorista.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/statusManif.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/novoManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnDeleteManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnSalvaManifesto.js' %}"></script>  
  <script src="{% static 'js/meusJS/manifestos/mainManifestos.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/barraDadosManifesto.js' %}"></script>

  <script src="{% static 'js/meusJS/manifestos/txtCpfMotorista.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnAddMotorista.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnRemoveVeiculo.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnCriaMotorista.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/tableMotoristasManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/txtPlacaVeiculo.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnAddVeiculo.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnBuscaVeiculos.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnBuscaManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnLimpaManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/cmbEmissorManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/cmbTipoDocumento.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/cmbTipomanifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/tableManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/cmbRotasManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnBuscaMotoristas.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/modalBuscaMotoristas.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/modalBuscaVeiculos.js' %}"></script>

  <script src="{% static 'js/meusJS/manifestos/btnPrintManifesto.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnDeleteDocumento.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnAddDocumento.js' %}"></script>

  <script src="{% static 'js/meusJS/manifestos/btnEncerrarMdfe.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnEnviarSefaz.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnPrintDamdfe.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnCancelarMdfe.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/btnAverbar.js' %}"></script>

  <script src="{% static 'js/meusJS/manifestos/contrato/contrato.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/contrato/btnExcluirContrato.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/contrato/btnGerarContrato.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/contrato/btnImprimirContrato.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/abasManifesto.js' %}"></script>

  <script src="{% static 'js/meusJS/manifestos/gerarManifestoComFrete.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/gerarManifestoSemFrete.js' %}"></script>
  <script src="{% static 'js/meusJS/manifestos/gerarPdfRomaneio.js' %}"></script>

  {% endblock %}